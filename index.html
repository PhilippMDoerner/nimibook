<!DOCTYPE HTML>
<html lang="en-us" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using nimibook -->
        <meta charset="UTF-8">
        <title>index.nim</title>

        <!-- Custom HTML head -->
        <!-- custom head content -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="a book built with nimibook">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>üê≥</text></svg>">
        <link rel="stylesheet" href="./assets/css/variables.css">
        <link rel="stylesheet" href="./assets/css/general.css">
        <link rel="stylesheet" href="./assets/css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="./assets/FontAwesome/css/font-awesome.min.css">

        <!-- Highlight.js Stylesheets - I could use nimib native highlight but let's keep it for styling... -->
        <link rel="stylesheet" href="./assets/css/highlight.css">
        <link rel="stylesheet" href="./assets/css/tomorrow-night.css">
        <link rel="stylesheet" href="./assets/css/ayu-highlight.css">

        <!-- Custom theme stylesheets - why the "../"? -->


        <!-- plausible analytics (new in nimibook) -->
        <script defer data-domain="pietroppeter.github.io/nimibook" src="https://plausible.io/js/plausible.js"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = ".//assets";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                                <ol class="chapter">
                  <li class="chapter-item expanded ">
                    <a href="./index.html" class="active" tabindex="0">
                      <strong aria-hidden="true">1.</strong> Introduction
                    </a>
                  </li>
                  <li>
                  <ol class="section">
                  <li class="chapter-item expanded ">
                    <a href="./content.html" tabindex="0">
                      <strong aria-hidden="true">1.1.</strong> Content
                    </a>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="./tocdsl.html" tabindex="0">
                      <strong aria-hidden="true">1.2.</strong> Toc DSL
                    </a>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="./configuration.html" tabindex="0">
                      <strong aria-hidden="true">1.3.</strong> Configuration
                    </a>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="./tasks.html" tabindex="0">
                      <strong aria-hidden="true">1.4.</strong> Tasks
                    </a>
                  </li>
                  </ol>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="./tocexample/index.html" tabindex="0">
                      <strong aria-hidden="true">2.</strong> Example toc structure
                    </a>
                  </li>
                  <li>
                  <ol class="section">
                  <li class="chapter-item expanded ">
                    <a href="./tocexample/nested.html" tabindex="0">
                      <strong aria-hidden="true">2.1.</strong> Nested section
                    </a>
                  </li>
                  <li>
                  <ol class="section">
                  <li class="chapter-item expanded ">
                    <a href="./tocexample/nested_entry.html" tabindex="0">
                      <strong aria-hidden="true">2.1.1.</strong> Entry in nested section
                    </a>
                  </li>
                  </ol>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="./tocexample/back_to_parent.html" tabindex="0">
                      <strong aria-hidden="true">2.2.</strong> Back to parent section
                    </a>
                  </li>
                  <li class="chapter-item expanded ">
                    <a href="./tocexample/draft.html" tabindex="0">
                      Draft chapter
                    </a>
                  </li>
                </ol>
<!-- I could use also an unescaped context value -->
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <!-- custom header content -->                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                    </div>

                    <h1 class="menu-title">nimibook</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/pietroppeter/nimibook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>


                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1>nimibook</h1>
<p><strong>nimibook</strong> is a port of <a href="https://rust-lang.github.io/mdBook/index.html">mdbook</a> to <a href="https://nim-lang.org/">Nim</a>, powered by <a href="https://pietroppeter.github.io/nimib/">nimib</a>.
Nimibook allows to create a nice looking book from nim code and markdown,
making sure that nim code is running correctly and being able to incorporate code outputs in the final book.
An example book is <a href="https://pietroppeter.github.io/nimibook/">nimibook documentation</a> itself.</p>
<p><a href="https://rust-lang.github.io/mdBook/index.html">mdBook</a> is a command line tool and Rust crate to create books
using Markdown (as by the CommonMark specification) files.
It's very similar to <a href="https://github.com/GitbookIO/gitbook">Gitbook</a>, which is a command line tool (and Node.js library)
for building beautiful books using GitHub/Git and Markdown (or AsciiDoc).</p>
<p><a href="https://pietroppeter.github.io/nimib/">nimib</a> is a Nim library to convert your Nim code and its outputs to html documents.
The html output can be easily customized thanks to <a href="https://github.com/soasme/nim-mustache">nim-mustache</a>,
and this is what allows it to use it to build nimibook.
<em>nimib documents</em> are normal nim files which use nimib library to produce an output document.</p>
<p>The Markdown dialect supported by both nimib and nimibook is the subset of <a href="https://github.github.com/gfm/">Github Flavored Markdown</a>
provided by <a href="https://github.com/soasme/nim-markdown">nim-markdown</a>. For a quick reference of supported syntax see the [cheatsheet].</p>
<h3>Status</h3>
<p>nimibook currently provides minimal functionality to create a book and support a local CLI mode.</p>
<h2>Installation</h2>
<p>To install Nimibook simply use : <code>nimble install nimibook</code></p>
<h2>Usage</h2>
<ol>
<li>Write your content using <a href="https://pietroppeter.github.io/nimib/">nimib</a> or simple markdown files in the <code>book</code> folder.
The basic template for an empty page is:</li>
</ol>
<pre><code class="language-nim">import nimib, nimibook

nbInit(theme = useNimibook)
# content here
nbSave
</code></pre>
<ol start="2">
<li>Use the Table of Content (ToC) DSL to link chapters to content in <code>nbook.nim</code>.
Example :</li>
</ol>
<pre><code class="language-nim">import nimibook

# Create a new book called &quot;Dummy&quot;, whose content is in the folder &quot;book&quot;
var book = newBookFromToc(&quot;Dummy Book&quot;, &quot;book&quot;):
  # Create a new section called &quot;Dummy&quot;, its content is the file &quot;index.nim&quot;
  section(&quot;Dummy&quot;, &quot;index&quot;): # Note how the .nim extensions is optional
    # Create a new entry called &quot;Simple example&quot;, its content is the file &quot;page_1.nim&quot;
    entry(&quot;Simple example&quot;, &quot;page_1.nim&quot;)

# access to nimibook cli which will allow to build the book
nimibookCli(book)
</code></pre>
<p>See <a href="https://pietroppeter.github.io/nimibook/">nimibook</a> or <a href="https://github.com/pietroppeter/nimibook">Nimibook repo</a> for more documentations and examples.</p>
<ol start="3">
<li>Generate your very own CLI tools or use Nimble tasks with <code>nim c -d:release nbook.nim</code>.</li>
</ol>
<ul>
<li><code>./nbook init</code> to init your book structure. <strong>This command must be ran at least once</strong>.</li>
<li><code>./nbook build</code> to build your book.</li>
</ul>
<ol start="4">
<li>Whenever your Table of Content changes (add/remove files, changes sections organization), recompile your <code>nbook</code> and run the <code>build</code> command : <code>nim c -d:release nbook.nim &amp;&amp; ./nbook build</code></li>
</ol>
<ul>
<li>It is also doable in one command : <code>nim r -d:release nbook.nim build</code></li>
<li>You don't need to call the <code>init</code> command again.</li>
<li>Rinse and repeat until your ToC is done ! Then you can just edit files and call <code>build</code> without recompiling.</li>
</ul>
<h2>Tips and Tricks</h2>
<ul>
<li>to build a single page (e.g. <code>book/mypage.nim</code>) run first <code>./nbook dump</code>
(which dumps a <code>book.json</code> file that contains a table of contents and other context data).</li>
</ul>
<p>If <code>book.json</code> is present, then you can build your page with: <code>nim r book/mypage.nim</code></p>
<ul>
<li>Each book requires its own ToC and thus will be its own CLI Apps</li>
<li><code>nbook.nim</code> is the default name used - it is possible to use another name.</li>
<li>Multiple books <code>nbook.nim</code> cannot share the same folder. Instead, either split them into two separate books, or merge them into one.</li>
<li>Some commands :
<ul>
<li><code>./nbook clean</code> will remove generated files and restart from a clean state.</li>
<li><code>./nbook update</code> will update assets and mustache template.</li>
<li>These two commands will modify installed files, use them with caution if you customized files locally.</li>
</ul>
</li>
</ul>
<h3>Analytics</h3>
<p>This website is tracking analytics with <a href="https://plausible.io/index.html">plausible.io</a>, a lightweight and open-source website analytics tool with no cookies and fully compliant with GDPR, CCPA and PECR.
Analytics for this website are publicly available <a href="https://plausible.io/pietroppeter.github.io%2Fnimibook">here</a>. You can opt out from analytics tracking with <a href="https://plausible.io/docs/excluding">standard ad-blocking</a> or typing <a href="https://plausible.io/docs/excluding-localstorage"><code>localStorage.plausible_ignore=true</code></a> in browser console.</p>
<!--refs-->
<h2></h2>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                            <a rel="next" href="./content.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

                    <a rel="next" href="./content.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>







        <script src="./assets/js/clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="./assets/js/highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="./assets/js/book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
